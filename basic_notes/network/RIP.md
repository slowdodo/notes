# RIP(Routing Information Protocol)
거리 벡터 라우팅 프로토콜로 라우팅 정보를 변경하는데 주로 사용된다.
LAN과 WAN 사이의 라우터들간 정보를 교환하기위해 사용한다.  
RIP는 홉 카운트를 메트릭으로 사용하여 대상 네트워크에 대한 최적의 경로를 결정합니다.
홉 카운트는 패킷이 대상에 도달하기 위해 통과해야 하는 라우터 수입니다.  
RIP는 15개의 제한된 홉 카운트를 사용하는데, 이는 패킷이 목적지에 도달하기 위해 15개 이상의 라우터를 통과해야 하는 경우 패킷이 폐기된다는 것을 의미합니다.

RIP는 라우팅 업데이트 메시지의 형태로 라우팅 테이블을 주기적으로 이웃에게 보냅니다. 이러한 메시지는 라우터가 알고 있는 모든 네트워크에 대한 정보를 포함하는 전체 라우팅 테이블을 포함합니다. 라우터는 인접 라우터 중 하나로부터 라우팅 업데이트 메시지를 수신하면 메시지의 정보로 자체 라우팅 테이블을 업데이트합니다.

RIP는 비교적 단순한 프로토콜이며 구성 및 관리가 쉽습니다. 그러나 제한된 홉 카운트와 가변 길이 서브넷 마스크(VLSM)를 지원하지 않는다는 점과 같은 몇 가지 제한이 있습니다. 이러한 제한으로 인해 더 크고 복잡한 네트워크에서 효율성이 떨어집니다.

# 특징
* 초기 IP와 함께 개발된 최초의 라우팅 프로토콜로 현재는 RIPv2버전이 있다.
* 거리 백터(Distance Vector) 라우팅 알고리즘에 근거한 분산 라우팅
* 모든 링크의 비용은 1로 설정함
* 최고 경로비용을 15로 제한함(15초과의 값은 무한으로 간주해서 유효하지 않는 경로로 간주한다)

![RIP](https://afteracademy.com/images/what-is-rip-routing-information-protocol-example-0b0fad96363f15fc.jpg)

# format

![RIPv2](https://selmanhaxhijaha.files.wordpress.com/2014/07/rip-formati.jpg)

## 핵심 frame
* IP: 목적지 네트워크가 어디인지 지정
* Subnet: 목적지의 서브넷마스크
* Next Hop: 패킷이 대상에 도달하기 위해 전송되는 다음 홉의 IP 주소를 나타냅니다.
* distance(metric): 대상에 도달하기 위한 라우터 홉 수를 나타냄

# 메시지 유형
* 요청 메시지(Request Message)
* 응답 메시지(Responce Message)
* 명령 필드(Command Field)에 유형 표시

## 응답 메시지(Responce Message)
* 요청 메시지의 요청에 의해 송신될 수도 있으나, 이웃 라우터들에게 주기적(약 30초마다)으로 송신
* 트래픽 동시 발생을 회피하기 위해 25~30초 사이의 임의의 시간에 전송
* 광고 메시지(Advertisement Message)로 부름

### 유효 경로 확인
* 이웃 라우터로부터 일정 시간 동안 특정 경로에 대한 RIP 응답 메시지를 받지 못하면, 해당 경로는 유효하지 않는 경로로 간주되어 경로 비용이 무한대(16)으로 설정

## 요청 메시지(Requset Message)
* 라우터가 초기화되었거니, 라우팅 테이블의 특정 엔트리가 타이머가 종료될 떄까지, <br> 갱신되지 않아 사용할 수 없게 되었을 때 송신
* 특정 네트워크 주소를 지정하여 특정 엔트리의 라우팅 정보를 요청할 수도 있다.
* 네트워크 주소를 0으로 설정함으로써 모든 엔트리의 라우팅 정보 요청이 가능하다.

## 명령 필드(Command Field)
* 
* 
* 

## 메시지 전송
* RIP 메시지는 UDP를 사용하여 전송한다.
* UDP의 영구 포트(Well-Known Port) 번호는 520(router service)
    * tcp는 (efs service)


# 경로 거리 재계산
* 응답 메시지의 각 목적지에 대해 수신 경로 거리(Distance to Net)에 1을 더하여 새로운 경로로 거리를 계산한다.

## 라우팅 테이블 갱신

1. 수신된 경로가 기존 라우팅 테이블에 없으면 경로를 추가한다.
2. 수신된 경로의 거리가 라우팅 테이블의 기존 경로 거리보다 작으면 수신 경로로 갱신한다.
3. 수신된 경로의 거리가 라우팅 테이블의 기존 경로 거리보다 크더라도 다음 라우터가 동일하면 수신 경로로 갱신한다. <br> 이는 동일한 다음 홉 라우터를 경유하는 경로의 거리 비용이 증가한 경우이다.
4. 1~3이 아닌 경로는 무시한다.


## RIP의 문제점

1. 라우팅 트래픽 발생량
* 주기적으로 발생되는 RIP 메시지는 목적지 망 주소와 거리 정보를 포함하는 많은 목록의 라우팅 정보를 포함하므로 라우팅 트래픽 발생량이 많다.
2. 라우터의 성능 저하
* 짧은 주기로 발생되는 RIP 메시지를 수신할 때 마다 라우터는 수신된 메시지의 목록의 각 학목을 자신의 거리 테이블의 관련 항목과 비교하고 처리해야 하므로 라우터의 성능 저하가 초래하게 된다.  
3. 느린 전파 속도
* 라우팅 테이블 갱신 정보는 한 번에 하나의 라우터씩 전달되기 때문에 갱신 정보의 전파 속도가 느리다.
4. `차등화된 라우팅이 불가`
* RIP의 `모든 링크 비용은 1로 설정`되므로 요구되는 서비스 유형(거리 보다 전송 속도가 높은 경로를 선택)에 따라 차등화된 경로 선택이 원칙적으로 불가능하다.
* 링크의 종류, 유무선, 보안유무, 오류유무 등 종류를 차등하여 구분하는 기능이 안된다.