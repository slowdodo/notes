# FTP (File Transfer Protocol)
* 인터넷상의 컴퓨터들 간에 파일을 교환하기 위한 표준 프로토콜(IETF RFC 959)이며, 인터넷의 TCP/IP 응용 프로토콜이다.  
* 정상적인 서비스 Connection을 위해서는 2개의 포트를 사용한다.
* 클라이언트에서 Active Mode와 Passive Mode로 전환가능

> 20: 전송  

> 21: 제어

# FTP 접근제어

| 구분 | 설명 |
| ---  | ------|
| /etc/ftpusers <br> /etc/vsftpd/ftpusers | FTP 접속 제한 계정 등록(이 파일 안에 ID가 존재하면 사용자 접근이 거부된다.) |
| /etc/hosts.deny | 특정 IP의 접근이 제한된다 |
| /etc/hosts.allow | 특정한 IP의 접근이 허용된다. |

# Active Mode
* 원격 사용자가 사용이 가능한 포트를 서버단에서 지정하여 사용이 가능하다.
* 서버관리자가 포트를 지정할 수 있으며 Passive 모드보다 안전하며 FTP의 `Default 세팅`이다.

# Passive Mode
* 원격 사용자가 임의의 포트로 접속하여 사용한다.
* 20, 21 포트를 사용하고, 1024~65535 사이의 포트를 2개 임의적으로 사용한다. 따라서 서버관리자가 이 서비스를 할려면 미리 포트를 다 열어놔야 하기에 보안적으로 취약하다. 


# FTP 보안
1. 임의의 계정으로 로그인 시도를 반복적으로 수행하여 사용자 계정의 패스워드를 유추할수 있는 취약점이 있다.
2. 사용자 인증정보 유출 방지를 위한 보안 대책으로 SCP, SFTP, FTPS, VSFTP 등 있다.
3. FTP 보안 대책으로 반드시 서비스를 사용할 필요가 없는경우 FTP 서비스 사용을 금지하는것이 좋다.  

# 익명 FTP
* 공개된 FTP 서버를 익명 FTP 서버라 하며, 그 호스트에 대해서는 누구든지 `계정없이` anonymous ftp라는 로그인명으로 FTP를 실행할수 있는데 이것을 익명 FTP라 한다.
* `암호는 필요없으며` 사용자의 이메일 주소를 입력하면 된다. 로그인한 다음에는 자유롭게 파일에 접근 가능하며 프리웨어 문서 공급 등에 사용된다.
3. 익명 FTP는 아이디로 anonymous나 ftp를 사용한다. 그리고 패스워드로 `guest 또는 이메일 주소를 사용하기도 한다`. 이때 입력하는 비밀번호는 실제 비밀번호가 아니며 누가 접속하는지 서버가 로그를 기록하는데 쓰일뿐이다.  `유효하지 않는 임의의 이메일 주소`를 사용해도 접속 가능하다.